<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="OK-Robot is an open framework for a modular system for zero-shot, language conditioned pick-and-drop tasks in arbitrary homes. OK-Robot accomplishes this with a modular design, using 3D VoxelMap for open-vocabulary navigation, AnyGrasp and LangSam for open-vocabulary grasping, and a dropping primitive for placing.">
    <meta name="keywords"
        content="Home robotics, Home robots, Robots in home, OK-Robot, Open-knowledge robots, Open source robot learning">
    <link rel="author" href="https://mahis.life" />
    <title>OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics</title>
    <meta property="og:url" content="https://ok-robot.github.io/">
    <meta property="og:image" content="https://ok-robot.github.io/mfiles/preview.gif">
    <meta property="og:description"
        content="OK-Robot is an open framework for zero-shot, natural language pick-and-drop system in arbitrary homes.">
    <meta property="og:title" content="OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics">
    <meta property="og:site_name"
        content="OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics">
    <meta property="og:see_also" content="https://ok-robot.github.io/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://ok-robot.github.io/">
    <meta name="twitter:title"
        content="OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics">
    <meta name="twitter:description"
        content="OK-Robot is an open framework for zero-shot, natural language pick-and-drop system in arbitrary homes.">
    <meta name="twitter:image" content="https://ok-robot.github.io/mfiles/preview.gif">
    <meta name="twitter:image:alt"
        content="OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics">
    <meta name="twitter:site" content="@notmahi">
    <meta name="twitter:player" content="https://ok-robot.github.io/mfiles/optimized_mosaic.mp4">
    <meta name="twitter:player:width" content="1280">
    <meta name="twitter:player:height" content="720">
    <meta name="twitter:player:stream" content="https://ok-robot.github.io/mfiles/optimized_mosaic.mp4">
    <meta name="twitter:player:stream:content_type" content="video/mp4">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans',
                sans-serif;
        }

        .hero-text {
            font-size: 5rem;
        }

        .hero-icon {
            height: 4rem;
        }

        .hero-subtitle {
            font-size: 2rem;
            font-style: italic;
        }

        .hero-subtext {
            font-size: 1.5rem;
        }

        /* Media query for tablet and smaller, make hero text 23vw */
        @media screen and (max-width: 767px) {
            .hero-text {
                font-size: 15vw;
            }

            .hero-icon {
                height: 12vw;
            }

            .hero-subtitle {
                font-size: 6vw;
            }

            .hero-subtext {
                font-size: 4vw;
            }

            .has-text-success-dark.is-size-4 {
                font-size: 4.5vw !important;
            }
        }

        .nav-link {
            font-size: 1.25rem;
        }

        #nav {
            position: sticky;
            top: 0;
        }

        .caption {
            font-size: 1rem;
            /* horizontal position overlaid on the previous class */
            position: relative;
            text-align: center;
            left: 0rem;
            background-color: rgba(22, 49, 68, 0.5);
            border-radius: 0.25rem;
        }

        .authors a {
            text-decoration: underline;
        }

        video.is-square-video {
            aspect-ratio: 1 / 1;
        }

        video.is-loading {
            background: rgba(0, 0, 0, 0.5) url(mfiles/images/puff.svg) center center no-repeat;
        }

        #selected_video {
            aspect-ratio: 16 / 9;
            max-height: 540px;
        }

        @media (orientation:landscape) {
            .hide-on-landscape {
                display: none;
            }
        }

        @media (orientation:portrait) {
            .hide-on-portrait {
                display: none;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar" role="navigation" aria-label="main navigation" id="nav">
        <div class="navbar-brand">
            <a class="navbar-item is-success nav-link is-size-3" href="#">
                <!-- <span class="icon"><img src="mfiles/logo.svg"></img></span> -->
                <span>OK-Robot</span>
            </a>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div id="navMenu" class="navbar-menu">
            <div class="navbar-start">
                <a class="navbar-item link is-info nav-link" href="#videos">
                    <div class="icon-text">
                        <span>Videos</span>
                    </div>
                </a>
                <!-- <a class="navbar-item link is-info nav-link" href="#hardware">
                    <div class="icon-text">
                        <span>Hardware</span>
                    </div>
                </a> -->
                <!-- <a class="navbar-item link is-info nav-link" href="#dataset">
                    <div class="icon-text">
                        <span>Dataset</span>
                    </div>
                </a> -->
                <a class="navbar-item link is-info nav-link" href="#analysis">
                    <div class="icon-text">
                        <span>Analysis</span>
                    </div>
                </a>
                <a class="navbar-item link is-info nav-link" href="#paper">
                    <div class="icon-text">
                        <span>Paper</span>
                    </div>
                </a>
                <!-- <a class="navbar-item link is-info nav-link" href="#code">
                    <div class="icon-text">
                        <span>Code</span>
                    </div>
                </a> -->
            </div>
            <div class="navbar-end">
                <a class="navbar-item link is-info nav-link" href="https://docs.dobb-e.com/contact-us" target="_blank">
                    <span>Contact us</span>
                </a>
                <!-- <div class="navbar-item">
                    <div class="buttons">
                        <a class="button is-info" href="https://docs.dobb-e.com" target="_blank">
                            <span class="icon-text">
                                <span class="icon">
                                    <ion-icon name="book-outline"></ion-icon>
                                </span>
                                <span>Start using Dobb·E</span>
                            </span>
                        </a>
                    </div>
                </div> -->
            </div>
        </div>
    </nav>
    <div class="hero is-fullheight-with-navbar">
        <div class="hero-body block">
            <div class="container">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            OK-Robot
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            An open, modular framework for zero-shot, language conditioned pick-and-drop tasks in
                            arbitrary homes.
                        </h2>
                    </div>
                    <div class="subtitle  is-size-7-mobile is-size-6-tablet block">
                        <p class="authors">
                            <a href="https://leo20021210.github.io/" target="_blank">Peiqi Liu*</a>,
                            <a href="https://www.linkedin.com/in/yaswanth-kumar-orru/" target="_blank">Yaswanth
                                Orru*</a>,
                            <a href="https://cpaxton.github.io/" target="_blank">Chris Paxton</a>,
                            <a href="https://mahis.life" target="_blank">Nur Muhammad "Mahi" Shafiullah<sup>†</sup></a>,
                            <a href="https://lerrelpinto.com/" target="_blank">Lerrel Pinto<sup>†</sup></a>
                        </p>
                        <p class="authors">*: Equal contributions, †: Equal advising</p>
                    </div>
                </div>
                <div class="container block">
                    <a class="button is-info is-outlined is-responsive" href="#videos">
                        <span class="icon">
                            <ion-icon name="videocam-outline"></ion-icon>
                        </span>
                        <span>OK-Robot in homes</span>
                    </a>
                    <a class="button is-outlined is-responsive" href="#paper">
                        <span class="icon">
                            <ion-icon name="newspaper-outline"></ion-icon>
                        </span>
                        <span>Read the paper</span>
                    </a>
                    <!-- <a class="button is-outlined is-responsive" target="_blank" href="#code">
                        <span class="icon">
                            <ion-icon name="logo-github"></ion-icon>
                        </span>
                        <span>Code</span>
                    </a> -->
                </div>
                <div class="columns block">
                    <div class="column">
                        <figure>
                            <video muted autoplay playsinline loop controls
                                src="mfiles/header_video_ultra_ultra_compressed.mp4"></video>
                        </figure>
                    </div>
                    <div class="column">
                        <figure>
                            <video muted autoplay playsinline loop src="mfiles/optimized_mosaic.mp4"></video>
                        </figure>
                    </div>
                </div>
                <div class="container block columns">
                    <div class="column">
                        <div class="subtitle block is-size-4">
                            <button class="button is-outlined is-responsive" id="expand-abstract">
                                <span class="icon"><ion-icon name="caret-down-outline"
                                        id="expand-abstract-icon"></ion-icon></span><span
                                    id="expand-abstract-text">Expand
                                    abstract</span></button>
                        </div>
                        <div class="is-size-6 block" id="abstract" hidden>
                            <p>
                                Remarkable progress has been made in recent years in the fields of vision, language, and
                                robotics. We now have vision models capable of recognizing objects based on language
                                queries, navigation systems that can effectively control mobile systems, and grasping
                                models that can handle a wide range of objects. Despite these advancements,
                                general-purpose applications of robotics still lag behind, even though they rely on
                                these fundamental capabilities of recognition, navigation, and grasping. In this paper,
                                we adopt a systems-first approach to develop a new Open Knowledge-based robotics
                                framework called OK-Robot. By combining Vision-Language Models (VLMs) for object
                                detection, navigation primitives for movement, and grasping primitives for object
                                manipulation, OK-Robot offers a integrated solution for pick-and-drop operations without
                                requiring any training. To evaluate its performance, we run OK-Robot in 10 real-world
                                home environments. The results demonstrate that OK-Robot achieves a 58.5% success rate
                                in open-ended pick-and-drop tasks, representing a new state-of-the-art in Open
                                Vocabulary Mobile Manipulation (OVMM) with nearly 1.8x the performance of prior work. On
                                cleaner, uncluttered environments, OK-Robot's performance increases to 82%. However, the
                                most important insight gained from OK-Robot is the critical role of nuanced details when
                                combining Open Knowledge systems like VLMs with robotic modules.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- <div class="container block columns">
                    <div class="column">
                        <div class="subtitle is-size-4">
                            <span>OK-Robot, in a nutshell:</span>
                        </div>
                        <div id="nutshell">
                            <figure class="hide-on-portrait">
                                <video style="width:100%" playsinline muted autoplay loop
                                    src="mfiles/whats_happening_comp.mp4"></video>
                            </figure>
                            <figure class="hide-on-landscape">
                                <video style="width:100%" playsinline muted autoplay loop
                                    src="mfiles/whats_happening_vert_comp.mp4"></video>
                            </figure>
                        </div>
                    </div>
                </div> -->
            </div>
        </div>
    </div>
    <!-- Video section -->
    <section class="hero is-fullheight-with-navbar" id="videos">
        <div class="hero-body block">
            <div class="container block">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            Videos
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            OK-Robot in action
                        </h2>
                    </div>
                    <div class="subtitle block">
                        <p class="hero-subtext">
                            In 10 home environments of New York City, OK-Robot attempted 171 pick-and-drop tasks. Here
                            are sample
                            trials from 5 homes, each showing 5 tasks.
                        </p>
                    </div>
                </div>
                <div class="container block">
                    <!-- Dropdown for the video selection -->
                    <div class="columns">
                        <div class="column is-8">
                            <div class="select" style="display: block;">
                                <select id="video-home-selection" style="width: 100%;">
                                    <!-- <option value="Home 1">Home 1</option> -->
                                    <option value="Home 2">Home 2</option>
                                    <!-- <option value="Home 3">Home 3</option> -->
                                    <!-- <option value="Home 4">Home 4</option>
                                    <option value="Home 5">Home 5</option> -->
                                    <option value="Home 6">Home 6</option>
                                    <option value="Home 7">Home 7</option>
                                    <option value="Home 8">Home 8</option>
                                    <!-- <option value="Home 9">Home 9</option> -->
                                    <option value="Home 10">Home 10</option>
                                </select>
                            </div>
                        </div>
                        <!-- <div class="column is-5">
                            <div class="select" style="display: block;">
                                <select id="video-task-selection" style="width: 100%;">
                                    <option value="opening_horizontal_blinds.mp4">Opening horizontal blinds</option>
                                    <option value="opening_kitchen_cabinet_drawer.mp4">Opening kitchen cabinet drawer
                                    </option>
                                    <option value="pouring_marshmallows.mp4">Pouring marshmallows</option>
                                    <option value="picking_up_and_placing_spice_bottle.mp4">Picking up and placing spice
                                        bottle</option>
                                    <option value="turning_knob.mp4">Turning knob</option>
                                    <option value="closing_kitchen_cabinet_door.mp4">Closing kitchen cabinet door
                                    </option>
                                    <option value="opening_air_fryer.mp4">Opening air fryer</option>
                                    <option value="pick_and_place_plate.mp4">Pick and place plate</option>
                                    <option value="closing_air_fryer.mp4">Closing air fryer</option>
                                    <option value="closing_kitchen_cabinet_drawer.mp4">Closing kitchen cabinet drawer
                                    </option>
                                    <option value="pickup_flower_from_vase.mp4">Pickup flower from vase</option>
                                    <option value="opening_vertical_blinds.mp4">Opening vertical blinds</option>
                                </select>
                            </div>
                        </div> -->
                        <div class="column is-4">
                            <button class="button is-info is-outlined" id="shuffle-button" style="width: 100%;">
                                <span class="icon">
                                    <ion-icon name="shuffle-outline"></ion-icon>
                                </span>
                                <span>Shuffle</span>
                        </div>
                    </div>

                </div>
                <div class="block">
                    <div class="columns is-centered">
                        <div class="column is-12-mobile is-12-tablet video-holder">
                            <figure class="">
                                <style>
                                    .embed-container {
                                        position: relative;
                                        padding-bottom: 56.25%;
                                        height: 0;
                                        overflow: hidden;
                                        max-width: 100%;
                                    }

                                    .embed-container iframe,
                                    .embed-container object,
                                    .embed-container embed {
                                        position: absolute;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                    }
                                </style>
                                <div class='embed-container'><iframe id="youtube-embed"
                                        src='https://www.youtube.com/embed/-A2vuqFizZQ?fs=0&modestbranding=1&playsinline=1&rel=0'
                                        frameborder='0' showinfo='0' allowfullscreen></iframe></div>
                            </figure>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dataset section -->
    <!-- <section class="hero is-fullheight-with-navbar" id="dataset">
        <div class="hero-body block">
            <div class="container">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            Dataset
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            Homes of New York (HoNY)
                        </h2>
                    </div>
                    <div class="block columns is-multiline is-mobile is-centered" id="dataset-demo">
                    </div>
                    <div class="block">
                        <div class="level is-size-4">
                            <div class="level-item">
                                22 homes
                            </div>
                            <div class="level-item">
                                216 environments
                            </div>
                            <div class="level-item">
                                5620 trajectories
                            </div>
                            <div class="level-item">
                                13 hours
                            </div>
                            <div class="level-item">
                                1.5 million frames
                            </div>
                        </div>
                    </div>
                    <div class="block">
                        <div class="subtitle">
                            <p class="block hero-subtext">
                                Homes of New York (HoNY) is a dataset containing 13 hours of interactions at 22
                                different homes of New York City collected with the <a href="#hardware">Stick</a>. The
                                dataset contains RGB and depth videos at 30 fps, as well as full action annotations for
                                6D pose of the gripper as well as the gripper's opening angle normalized between (0, 1).
                            </p>
                            <div class="block field columns">
                                <div class="column">
                                    <a class="block button is-info is-outlined is-medium is-fullwidth" target="_blank"
                                        href="https://dl.dobb-e.com/datasets/homes_of_new_york.zip">
                                        <span class="icon">
                                            <ion-icon name="caret-forward-circle-outline"></ion-icon>
                                        </span>
                                        <span>RGB + actions dataset (814 MB)</span>
                                    </a>

                                </div>

                                <div class=" column">
                                    <a class="block button is-info is-outlined is-medium is-fullwidth" target="_blank"
                                        href="https://drive.google.com/drive/folders/1o8c6b6hSKfId8EzemVGf8c7DQoZ2IHAO?usp=sharing">
                                        <span class="icon">
                                            <ion-icon name="caret-forward-circle-outline"></ion-icon>
                                        </span>
                                        <span>RGB-D + actions dataset (77 GB)</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </section> -->

    <section class="hero is-fullheight-with-navbar" id="analysis">
        <div class="hero-body block">
            <div class="container">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            Analysis
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            Understanding the performance of OK-Robot
                        </h2>
                    </div>
                    <div class="block">
                        <div class="subtitle">
                            <figure class="block">
                                <img src="mfiles/images/sankey_failure_modes.png"
                                    alt="A sankey diagram showing the analysis of success and failure modes of OK-Robot." />
                            </figure>
                            <p class="block hero-subtext">
                                While our method can show zero-shot generalization in
                                completely new environments, we probe OK-Robot to better
                                understand when and how it succeeds and fails.
                                While we find a 58.5% success rate at completely novel homes, at a closer look, we
                                also notice a long tail of failure causes, which is presented in the figure above.
                                We see that the leading three cause of failures are failing
                                to retrieve the right object to navigate to from the semantic
                                memory (9.3%), getting a difficult pose from the manipulation
                                module (8.0%), and hardware difficulties (7.5%).
                            </p>
                            <p class="block hero-subtext">
                                In the "Understanding the performance
                                of OK-Robot" section of the paper,
                                we go over the analysis of the failure modes presented in
                                the figure above and discuss the most frequent cases.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Paper -->
    <section class="hero is-fullheight-with-navbar" id="paper">
        <div class="hero-body block">
            <div class="container">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            Paper
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics
                        </h2>
                    </div>
                    <div class="columns">
                        <div class="column is-12-mobile">
                            <a href="https://arxiv.org/abs/2401.12202" target="_blank">
                                <figure class="image">
                                    <img src="mfiles/images/paper.jpg" style="max-width: 95vw;" alt="Paper">
                                </figure>
                            </a>
                        </div>
                    </div>
                    <div class="columns">
                        <div class="column">
                            <a class="button is-outlined is-medium is-fullwidth" target="_blank"
                                href="https://arxiv.org/abs/2401.12202">
                                <span class="icon">
                                    <img src="mfiles/images/arxiv.svg" style="height: 1.5rem;"></img>
                                </span>
                                <span>Read the paper (Arxiv)</span>
                            </a>
                        </div>
                        <div class="column">
                            <a class="button is-outlined is-medium is-fullwidth" target="_blank"
                                href="mfiles/paper/ok_robot.pdf">
                                <span class="icon">
                                    <ion-icon name="document-text-outline"></ion-icon>
                                </span>
                                <span>Read the paper (PDF)</span>
                            </a>
                        </div>
                        <div class="column">
                            <a class="button is-outlined is-medium is-fullwidth" target="_blank" href="more/bibtex.txt">
                                <span class="icon">
                                    <ion-icon name="bookmark-outline"></ion-icon>
                                </span>
                                <span>Citation (bibtex)</span>
                            </a>
                        </div>
                    </div>
                    <div class="content">
                        <pre id="citation-text" style="max-width: 90vw; overflow-x: auto;">
@misc{liu2024okrobot,
    title={OK-Robot: What Really Matters in Integrating Open-Knowledge Models for Robotics}, 
    author={Peiqi Liu and Yaswanth Orru and Chris Paxton and Nur Muhammad Mahi Shafiullah and Lerrel Pinto},
    year={2024},
    eprint={2401.12202},
    archivePrefix={arXiv},
    primaryClass={cs.RO}
}</pre>
                    </div>
                    <div class="block">
                        <div class="subtitle">
                            <p class="block hero-subtext">
                                We are currently in the process of integrating our code with the Hello Robot: Stretch
                                stack, which we plan to open source soon. If you want to start playing with OK-Robot
                                now, feel free to contact us via this page: <a href="https://docs.dobb-e.com/contact-us"
                                    target="_blank">https://docs.dobb-e.com/contact-us</a>, and we can help you get set
                                up sooner.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Code -->
    <!-- <section class="hero is-halfheight" id="code">
        <div class="hero-body block">
            <div class="container">
                <div class="container block">
                    <div class="title block">
                        <h1 class="hero-text">
                            Code
                        </h1>
                    </div>
                    <div class="subtitle block">
                        <h2 class="hero-subtitle">
                            All components of OK-Robot are open. Check back in for the release of our platform code
                            soon!
                        </h2>
                    </div>
                    <div class="container block">
                        <div class="columns">
                            <div class="column">
                                <a class="button is-outlined is-medium is-fullwidth" target="_blank"
                                    href="https://github.com/facebookresearch/home-robot">
                                    <span class="icon">
                                        <ion-icon name="logo-github"></ion-icon>
                                    </span>
                                    <span>VoxelMap (@ Home Robot)</span>
                                </a>
                            </div>
                            <div class="column">
                                <a class="button is-outlined is-medium is-fullwidth" target="_blank"
                                    href="https://github.com/graspnet/anygrasp_sdk">
                                    <span class="icon">
                                        <ion-icon name="logo-github"></ion-icon>
                                    </span>
                                    <span>AnyGrasp</span>
                                </a>
                            </div>
                            <div class="column">
                                <a class="button is-outlined is-medium is-fullwidth" target="_blank"
                                    href="https://github.com/luca-medeiros/lang-segment-anything/">
                                    <span class="icon">
                                        <ion-icon name="logo-github"></ion-icon>
                                    </span>
                                    <span>Lang-SAM</span>
                                </a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section> -->


    <!-- Footer -->
    <footer class="footer">
        <div class="content has-text-centered">
            <p>
                <strong>OK-Robot</strong> by <a href="https://mahis.life">Mahi Shafiullah</a>.
                The source code is licensed <a href="http://opensource.org/licenses/mit-license.php">MIT</a>. The
                website content is licensed <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC ANS 4.0</a>.
                The
                website template is taken from <a href="https://dobb-e.com">Dobb·E</a>.
            </p>
        </div>
    </footer>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</body>

<script>
    const videoData = { 0: ["Door closing", "1", "1"], 1: ["Door closing", "2", "1"], 2: ["Door closing", "2", "2"], 3: ["Door closing", "3", "1"], 4: ["Door closing", "5", "1"], 5: ["Door closing", "5", "2"], 6: ["Door closing", "5", "3"], 7: ["Door closing", "7", "1"], 8: ["Door closing", "8", "1"], 9: ["Door closing", "8", "2"], 10: ["Door closing", "9", "1"], 11: ["Door closing", "9", "2"], 12: ["Door closing", "10", "1"], 13: ["Door closing", "11", "1"], 14: ["Door closing", "14", "1"], 15: ["Door closing", "14", "2"], 16: ["Door closing", "14", "3"], 17: ["Door closing", "15", "1"], 18: ["Door closing", "15", "2"], 19: ["Door closing", "15", "3"], 20: ["Door closing", "15", "4"], 21: ["Door closing", "15", "5"], 22: ["Door closing", "15", "6"], 23: ["Door closing", "15", "7"], 24: ["Door closing", "15", "8"], 25: ["Door closing", "16", "1"], 26: ["Door closing", "16", "2"], 27: ["Door closing", "16", "3"], 28: ["Door closing", "17", "1"], 29: ["Door closing", "18", "1"], 30: ["Door closing", "19", "1"], 31: ["Door closing", "19", "2"], 32: ["Door closing", "20", "2"], 33: ["Door closing", "20", "3"], 34: ["Door closing", "20", "4"], 35: ["Door closing", "20", "5"], 36: ["Door closing", "21", "1"], 37: ["Door closing", "21", "2"], 38: ["Door closing", "21", "3"], 39: ["Door closing", "22", "1"], 40: ["Door opening", "1", "1"], 41: ["Door opening", "2", "1"], 42: ["Door opening", "2", "2"], 43: ["Door opening", "3", "1"], 44: ["Door opening", "4", "1"], 45: ["Door opening", "4", "2"], 46: ["Door opening", "6", "1"], 47: ["Door opening", "6", "2"], 48: ["Door opening", "6", "3"], 49: ["Door opening", "6", "4"], 50: ["Door opening", "8", "1"], 51: ["Door opening", "8", "2"], 52: ["Door opening", "8", "3"], 53: ["Door opening", "9", "1"], 54: ["Door opening", "9", "2"], 55: ["Door opening", "10", "1"], 56: ["Door opening", "11", "1"], 57: ["Door opening", "12", "1"], 58: ["Door opening", "12", "2"], 59: ["Door opening", "12", "3"], 60: ["Door opening", "13", "1"], 61: ["Door opening", "13", "2"], 62: ["Door opening", "13", "4"], 63: ["Door opening", "13", "5"], 64: ["Door opening", "14", "1"], 65: ["Door opening", "14", "2"], 66: ["Door opening", "14", "3"], 67: ["Door opening", "15", "1"], 68: ["Door opening", "15", "2"], 69: ["Door opening", "15", "3"], 70: ["Door opening", "15", "4"], 71: ["Door opening", "16", "1"], 72: ["Door opening", "16", "2"], 73: ["Door opening", "16", "3"], 74: ["Door opening", "17", "1"], 75: ["Door opening", "18", "1"], 76: ["Door opening", "20", "2"], 77: ["Door opening", "20", "3"], 78: ["Door opening", "20", "4"], 79: ["Door opening", "21", "1"], 80: ["Door opening", "21", "2"], 81: ["Door opening", "21", "3"], 82: ["Door opening", "21", "4"], 83: ["Door opening", "21", "5"], 84: ["Door opening", "22", "1"], 85: ["Door opening", "22", "2"], 86: ["Door opening", "22", "3"], 87: ["Door opening", "22", "4"], 88: ["Drawer closing", "2", "1"], 89: ["Drawer closing", "3", "1"], 90: ["Drawer closing", "3", "2"], 91: ["Drawer closing", "4", "1"], 92: ["Drawer closing", "5", "1"], 93: ["Drawer closing", "5", "2"], 94: ["Drawer closing", "7", "1"], 95: ["Drawer closing", "8", "1"], 96: ["Drawer closing", "8", "2"], 97: ["Drawer closing", "9", "1"], 98: ["Drawer closing", "9", "2"], 99: ["Drawer closing", "9", "3"], 100: ["Drawer closing", "10", "1"], 101: ["Drawer closing", "10", "2"], 102: ["Drawer closing", "11", "1"], 103: ["Drawer closing", "14", "1"], 104: ["Drawer closing", "14", "2"], 105: ["Drawer closing", "14", "3"], 106: ["Drawer closing", "15", "1"], 107: ["Drawer closing", "15", "2"], 108: ["Drawer closing", "16", "1"], 109: ["Drawer closing", "19", "1"], 110: ["Drawer closing", "19", "2"], 111: ["Drawer closing", "19", "3"], 112: ["Drawer closing", "20", "1"], 113: ["Drawer closing", "20", "2"], 114: ["Drawer closing", "21", "1"], 115: ["Drawer closing", "21", "2"], 116: ["Drawer closing", "21", "3"], 117: ["Drawer closing", "22", "1"], 118: ["Drawer opening", "2", "1"], 119: ["Drawer opening", "3", "1"], 120: ["Drawer opening", "3", "2"], 121: ["Drawer opening", "4", "1"], 122: ["Drawer opening", "4", "2"], 123: ["Drawer opening", "4", "3"], 124: ["Drawer opening", "5", "1"], 125: ["Drawer opening", "5", "2"], 126: ["Drawer opening", "7", "1"], 127: ["Drawer opening", "8", "1"], 128: ["Drawer opening", "9", "1"], 129: ["Drawer opening", "9", "2"], 130: ["Drawer opening", "10", "1"], 131: ["Drawer opening", "10", "3"], 132: ["Drawer opening", "11", "1"], 133: ["Drawer opening", "13", "1"], 134: ["Drawer opening", "14", "1"], 135: ["Drawer opening", "14", "2"], 136: ["Drawer opening", "15", "1"], 137: ["Drawer opening", "15", "2"], 138: ["Drawer opening", "16", "1"], 139: ["Drawer opening", "17", "1"], 140: ["Drawer opening", "18", "1"], 141: ["Drawer opening", "19", "1"], 142: ["Drawer opening", "20", "1"], 143: ["Drawer opening", "20", "2"], 144: ["Drawer opening", "21", "1"], 145: ["Drawer opening", "22", "1"], 146: ["Handle grasping", "3", "1"], 147: ["Handle grasping", "5", "1"], 148: ["Handle grasping", "6", "1"], 149: ["Handle grasping", "6", "2"], 150: ["Handle grasping", "6", "3"], 151: ["Handle grasping", "6", "4"], 152: ["Handle grasping", "6", "5"], 153: ["Handle grasping", "7", "1"], 154: ["Handle grasping", "15", "1"], 155: ["Handle grasping", "16", "1"], 156: ["Handle grasping", "16", "2"], 157: ["Handle grasping", "19", "1"], 158: ["Handle grasping", "20", "1"], 159: ["Handle grasping", "21", "1"], 160: ["Handle grasping", "22", "1"], 161: ["Handle grasping", "22", "2"], 162: ["Pick and place", "2", "1"], 163: ["Pick and place", "3", "1"], 164: ["Pick and place", "5", "1"], 165: ["Pick and place", "7", "1"], 166: ["Pick and place", "7", "2"], 167: ["Pick and place", "8", "1"], 168: ["Pick and place", "10", "1"], 169: ["Pick and place", "11", "1"], 170: ["Pick and place", "11", "2"], 171: ["Pick and place", "12", "1"], 172: ["Pick and place", "14", "1"], 173: ["Pick and place", "14", "2"], 174: ["Pick and place", "14", "3"], 175: ["Pick and place", "15", "1"], 176: ["Pick and place", "16", "1"], 177: ["Pick and place", "16", "2"], 178: ["Pick and place", "16", "3"], 179: ["Pick and place", "20", "1"], 180: ["Pick and place", "20", "2"], 181: ["Pick and place", "21", "1"], 182: ["Pick and place", "21", "2"], 183: ["Pick and place", "21", "3"], 184: ["Play data", "1", "1"], 185: ["Play data", "3", "1"], 186: ["Play data", "5", "1"], 187: ["Play data", "11", "1"], 188: ["Play data", "14", "1"], 189: ["Play data", "14", "2"], 190: ["Play data", "14", "3"], 191: ["Play data", "14", "4"], 192: ["Play data", "15", "1"], 193: ["Play data", "16", "1"], 194: ["Play data", "19", "1"], 195: ["Play data", "20", "1"], 196: ["Play data", "21", "1"], 197: ["Play data", "22", "4"], 198: ["Play data", "22", "5"], 199: ["Switch button", "2", "1"], 200: ["Switch button", "3", "1"], 201: ["Switch button", "5", "1"], 202: ["Switch button", "11", "1"], 203: ["Switch button", "11", "2"], 204: ["Switch button", "14", "1"], 205: ["Switch button", "14", "2"], 206: ["Switch button", "15", "1"], 207: ["Switch button", "15", "2"], 208: ["Switch button", "15", "3"], 209: ["Switch button", "15", "4"], 210: ["Switch button", "16", "1"], 211: ["Switch button", "21", "1"], 212: ["Switch button", "21", "2"], 213: ["Switch button", "21", "3"], 214: ["Switch button", "21", "4"], 215: ["Switch button", "22", "1"] };
    const YTVideoPrefix = "https://www.youtube.com/embed/";
    const YTVideoSuffix = "?fs=0&modestbranding=1&playsinline=1&rel=0";
    const YTVideoID = {
        "Home 2": "-A2vuqFizZQ",
        "Home 6": "G7SBA5roNhI",
        "Home 7": "tk0IJikYL2k",
        "Home 8": "-zENt82QPEA",
        "Home 10": "lQszLfsUWJk",
    }


    document.addEventListener('DOMContentLoaded', () => {

        // Get all "navbar-burger" elements
        const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

        // Add a click event on each of them
        $navbarBurgers.forEach(el => {
            el.addEventListener('click', () => {

                // Get the target from the "data-target" attribute
                const target = el.dataset.target;
                const $target = document.getElementById(target);

                // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
                el.classList.toggle('is-active');
                $target.classList.toggle('is-active');
            });
        });

        const $navbarItems = Array.prototype.slice.call(document.querySelectorAll('.navbar-item'), 0);
        $navbarItems.forEach(el => {
            el.addEventListener('click', () => {
                const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
                $navbarBurgers.forEach(el => {
                    const target = el.dataset.target;
                    const $target = document.getElementById(target);
                    el.classList.remove('is-active');
                    $target.classList.remove('is-active');
                });
            });
        });


        // Add listeners for the video selection.
        const taskSelection = document.getElementById('video-task-selection');
        const homeSelection = document.getElementById('video-home-selection');
        const videoSelection = document.getElementById('youtube-embed');
        // videoSelection.muted = true;
        // videoSelection.addEventListener('loadstart', function (event) {
        //     this.classList.add('is-loading');
        // });
        // videoSelection.addEventListener('canplay', function (event) {
        //     this.classList.remove('is-loading');
        //     this.muted = true;
        //     this.play();
        // });
        // taskSelection.addEventListener("change", function (event) {
        //     const task = event.target.value;
        //     const home = homeSelection.value;
        //     const properHomeName = homeSelection.value;
        //     // const videos = taskRollouts[properHomeName];
        //     // const filteredVideos = videos.filter((video) => video.filename === task);
        //     const videoSelection = document.getElementById('selected_video');
        //     videoSelection.src = `${YTVideoPrefix}${YTVideoID[properHomeName]}${YTVideoSuffix}`;
        //     // videoSelection.muted = true;
        //     // videoSelection.play();
        // });

        // function updateTaskList(home) {
        //     const videos = taskRollouts[home];
        //     // Now change the options for task selection
        //     const taskSelection = document.getElementById('video-task-selection');
        //     taskSelection.innerHTML = '';
        //     videos.forEach((video) => {
        //         const option = document.createElement('option');
        //         option.value = video.filename;
        //         option.innerText = video.proper_task_name;
        //         taskSelection.appendChild(option);
        //     });
        //     return videos[0];

        // }
        homeSelection.addEventListener("change", function (event) {
            const properHomeName = this.value;
            // video = updateTaskList(properHomeName);
            const videoSelection = document.getElementById('youtube-embed');
            videoSelection.src = `${YTVideoPrefix}${YTVideoID[properHomeName]}${YTVideoSuffix}`;
            // videoSelection.muted = true;
            // videoSelection.play();
        });

        // Add shuffle option
        function shuffleVideo() {
            const randomHome = Object.keys(YTVideoID)[Math.floor(Math.random() * Object.keys(YTVideoID).length)];
            //     const randomTask = taskRollouts[randomHome][Math.floor(Math.random() * taskRollouts[randomHome].length)];
            const videoSelection = document.getElementById('youtube-embed');
            //     homeSelection.value = randomTask.proper_home_name;
            //     updateTaskList(randomTask.proper_home_name);
            //     taskSelection.value = randomTask.filename;
            videoSelection.src = `${YTVideoPrefix}${YTVideoID[randomHome]}${YTVideoSuffix}`;
            //     videoSelection.muted = true;
            //     videoSelection.play();
        }
        shuffleVideo();
        const shuffleButton = document.getElementById('shuffle-button');
        shuffleButton.addEventListener('click', shuffleVideo);
        // Toggle abstract when expand button is clicked
        const expandButton = document.getElementById('expand-abstract');
        const expandButtonText = document.getElementById('expand-abstract-text');
        const expandButtonIcon = document.getElementById('expand-abstract-icon');
        const abstract = document.getElementById('abstract');
        expandButton.addEventListener('click', function (event) {
            abstract.hidden = !abstract.hidden;
            if (abstract.hidden) {
                expandButtonText.innerText = 'Show abstract';
                expandButtonIcon.name = "caret-down-outline";
            } else {
                expandButtonText.innerText = 'Hide abstract';
                expandButtonIcon.name = "caret-forward-outline";
            }
        });
    });

    document.getElementById('citation-text').addEventListener('click', function () {
        if (window.getSelection) {
            var range = document.createRange();
            range.selectNodeContents(this);
            var selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
        }
    });

</script>

</html>